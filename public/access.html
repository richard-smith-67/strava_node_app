<p>Access page</p>
<button onclick="getCode()">Get Code</button>
<script type='text/javascript'>
    function getCode() {
        
        // var express = require('express');
        // var app = express();

        var url = window.location.href;
        var codeIndex = url.search("code");
        var code = url.substring(codeIndex + 5);
        var clientId = 'xxxx';
        var clientSecret = 'xxxx';
    
        var url = 'https://www.strava.com/oauth/token?client_id=' + clientId + '?client_secret=' + clientSecret + '?code=' + code;
    
        var xhr = new XMLHttpRequest();
        xhr.open("POST", url, true);

        xhr.onreadystatechange = function() {
            if(xhr.readyState == XMLHttpRequest.DONE && xhr.status == 200) {
                alert(xhr.response);
            }
        }
        
        xhr.send(); 

          //Send the proper header information along with the request
        //xhr.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
       
    }
</script>
